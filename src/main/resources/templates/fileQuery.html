<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>File Search</title>
        <link rel="stylesheet"
            th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}" />
        <script th:src="@{/webjars/bootstrap/5.2.3/js/bootstrap.min.js}"
            type="text/javascript"></script>
    </head>
    <body>
        <!-- 検索フォーム -->
        <form method="get" th:action="@{/fileQuery/search}"
            th:object="${fileQueryForm}">
            <div class="col-md-6 text-center mb-3">

                <div class="form-group">
                    <label class="custom-user-label" for="uid">User</label>
                    <input th:field="*{uid}" type="text">
                </div>

                <div class="col-md-4">
                    <select class="form-select" th:name="sid" th:id="sid">
                        <option th:value=null th:text="教科" />
                        <option th:each="sList : ${subjectList}"
                            th:value="${sList.sid}" th:field="*{sid}"
                            th:text="${sList.subjectName}" />
                    </select>
                </div>

                <div class="col-md-4">
                    <select class="form-select" th:name="gid" th:id="gid">
                        <option th:value=null th:text="ジャンル" />
                        <option th:each="gList : ${genreList}"
                            th:value="${gList.gid}" th:field="*{gid}"
                            th:text="${gList.genreName}" />
                    </select>
                </div>

                <div class="col-md-4">
                    <select class="form-select" th:name="year" th:id="year">
                        <option th:value=null th:text="年度" />
                        <option th:each="i : ${#numbers.sequence(1980, 2050)}"
                            th:value="${i}" th:field="*{year}" th:text="${i}+年度" />
                    </select>
                </div>

                <div>
                    <form method="get" th:action="@{/fileQuery/search}">
                        <input class="btn btn-secondary" type="submit"
                            value="検索">
                    </div>
                </div>
            </div>
        </form>

        <!-- 検索結果 -->
        <table>
            <thead>
                <tr>
                    <th>ファイル名</th>
                    <th>ユーザ名</th>
                    <th>教科</th>
                    <!-- ... -->
                </tr>
            </thead>
            <tbody>
                <tr th:each="fileEntity : ${fileQueryResult}">
                    <td th:text="${fileEntity.fileName}"></td>

                    <!-- ... -->
                </tr>
            </tbody>
        </table>
        <div>
            <form method="get" th:action="@{/user/addfile}">
                <input class="btn btn-primary" type="submit" value="ファイル追加">
            </form> <br>

            <form method="get" th:action="@{user/deletefile/}">
                <input class="btn btn-primary" type="submit" value="ファイル削除">
                <div>
                </body>
            </html>